<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form id="formulario">
        <label for="name">Nombre:</label>
        <input type="text" name="name" id="name">
        <br>
        <label for="surname">Apellidos:</label>
        <input type="text" name="surname" id="surname">
        <br>
        <label for="telefone">Telefono:</label>
        <input type="text" name="telefone" id="telefone">
        <br>
        <label for="dni">Dni:</label>
        <input type="text" name="dni" id="dni">
        <br>
        <label for="age">Edad:</label>
        <input type="number" name="age" id="age">
        <br>
        <label for="">Sexo:</label>
        <br>
        <label for="man">Hombre</label>
        <input type="radio" name="sex" id="man">
        <br>
        <label for="woman">Mujer</label>
        <input type="radio" name="sex" id="woman">
        <br>
        <label for="foto">Incluir mi foto</label>
        <input type="file" id="foto" name="foto" accept="image/*">
        <br>
        <input type="checkbox" name="publi" id="publi">
        <label for="publi">Enviar publicidad</label>
        <br>
        <label for="aficitio">Elige tu aficion favorita</label>
        <select name="aficion" id="aficion">
            <option value="musica">Música</option>
            <option value="lectura">Lectura</option>
            <option value="deporte">Deporte</option>
        </select>
        <br>
        <label for="observations">Observaciones</label><br>
        <textarea name="observations" id="observations" onkeypress="return limita(150)"></textarea>
        <br>
        <input type="submit" value="Guardar cambios">
        <input type="reset" value="Borrar los datos introducidos">
    </form>
    

    <script>
        //ejer 1
        window.onload = function (){
            document.getElementById("name").focus();
        };

        document.getElementById("aficion").addEventListener("change", function(){
            var selection = document.getElementById("aficion");
            var index_select = selection.selectedIndex;
            var value_select = selection.options[index_select].value;

            alert("Longitud: " + selection.length + 
                    "\nÍndice seleccionado: " + index_select + 
                    "\nValor: " + value_select);
        });

        function limita(max_carat){
            var textarea = document.getElementById("observations");
            if(textarea.value.length > max_carat){
                return false;
            } else{
                return true;
            }
        }

        document.getElementById("formulario").addEventListener("submit", function(){
            var dni = document.getElementById("dni").value.trim();
            var telefone = document.getElementById("telefone").value.trim();

            if(!dni){
                alert("debe rellenar el campo DNI");
            }

            if(!(/^\d{9}$/.test(telefone))){
                alert("el numero de telefono tiene menos de 9 digitos consecutivos");
            }
        });
        //fin ejer 1
    </script>
</body>
</html>