<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Ejercicio 16 - Información sobre eventos</title>
<style type="text/css">
    body { font-family: arial, helvetica; }
    #info { width: 160px; border: thin solid silver; padding: .5em; position: fixed; }
    #info h1 { margin: 0; }
</style>
<script type="text/javascript">
function informacion(elEvento) {
    var evento = elEvento || window.event;

    var dimensiones = tamanoVentanaNavegador();
    var anchoVentana = dimensiones[0];
    var altoVentana = dimensiones[1];

    var coordenadaX = evento.clientX;
    var coordenadaY = evento.clientY;

    var texto = "";

    if (coordenadaX >= 0 && coordenadaX <= anchoVentana / 2) {
        if (coordenadaY >= 0 && coordenadaY <= altoVentana / 2) {
            texto = "Arriba izquierda";
        } else if (coordenadaY > altoVentana / 2 && coordenadaY <= altoVentana) {
            texto = "Abajo izquierda";
        }
    } else if (coordenadaX > anchoVentana / 2 && coordenadaX <= anchoVentana) {
        if (coordenadaY >= 0 && coordenadaY <= altoVentana / 2) {
            texto = "Arriba derecha";
        } else if (coordenadaY > altoVentana / 2 && coordenadaY <= altoVentana) {
            texto = "Abajo derecha";
        }
    }

    muestraInformacion([
        "Ubicación del clic",
        "Ubicación: " + texto
    ]);
}

function muestraInformacion(mensaje) {
    // Crear el contenido como una lista para que sea más claro
    var info = document.getElementById("info");
    info.innerHTML = "<h1>" + mensaje[0] + "</h1>";
    var lista = "<ul>";
    for (var i = 1; i < mensaje.length; i++) {
        lista += "<li>" + mensaje[i] + "</li>";
    }
    lista += "</ul>";
    info.innerHTML += lista;
}

function tamanoVentanaNavegador() {
    // Adaptada de http://www.howtocreate.co.uk/tutorials/javascript/browserwindow
    var dimensiones = [];

    if (typeof window.innerWidth == "number") {
        // No es IE
        dimensiones = [window.innerWidth, window.innerHeight];
    } else if (
        document.documentElement &&
        (document.documentElement.clientWidth || document.documentElement.clientHeight)
    ) {
        // IE 6 en modo estándar (no quirks)
        dimensiones = [document.documentElement.clientWidth, document.documentElement.clientHeight];
    } else if (
        document.body &&
        (document.body.clientWidth || document.body.clientHeight)
    ) {
        // IE en modo quirks
        dimensiones = [document.body.clientWidth, document.body.clientHeight];
    }

    return dimensiones;
}

document.onclick = informacion;
</script>
</head>
<body>
<div id="info"></div>
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
</body>
</html>
